<style>
    .btn-label {
        position: relative;
        left: -12px;
        display: inline-block;
        padding: 6px 12px;
        background: rgba(0, 0, 0, 0.15);
        border-radius: 3px 0 0 3px;
    }

    .btn-labeled {
        padding-top: 0;
        padding-bottom: 0;
    }

    .btn {
        margin-bottom: 10px;
    }

    .red {
        background-color: rgba(0, 0, 0, 0.15);
    }
</style>
<!-- alert -->


<section class="vh-300" id="register">
    <div class="container h-100">
        <div class="row d-flex justify-content-center  h-100">
            <div>

                <div class="container mt-5">
                    <!-- title -->


                    <p class="text-center h1 fw-bold mb-2 mx-1 mx-md-4 mt-4">Bài thi môn :
                        <code> {{subject.Name}} </code>
                    </p>

                    <!-- end title -->
                    <div class=" border border-1 rounded" style="padding: 10px;">
                        <!-- header -->
                        <p class="ms-auto text-end  fw-bold ">

                            <button type="button" class="btn btn-labeled btn-light">
                                <span class="btn-label"><i class="bx bx-check-circle"></i></span>{{testMark}}
                                Điểm</button>
                            <button type="button" class="btn btn-labeled btn-light">
                                <span class="btn-label"><i class="bx bx-time"></i></span>{{ (timer - timer % 60) / 60
                                }}:{{ timer % 60 }}</button>
                            <button type="button" class="btn btn-labeled btn-light">
                                <span class="btn-label"><i class="bx bx-category"></i></span> <img
                                    src="image/logos/{{subject.Logo}}" width="20px" height="20px" class="rounded-circle"
                                    alt="Cinque Terre"></button>
                        </p>
                        <!-- end header -->

                        <!-- form -->
                        <form name="formTest" class="{{(elem[indexQ].sub==0)?'disabled':''}}"
                            style="{{(elem[indexQ].sub==0)?'background-image: url(image/done.png);background-position: center;background-repeat: no-repeat;background-size: contain;':''}}">
                            <div class="mb-3  text-wrap">
                                <label class="form-label text-start h4  mb-2 mx-1 mx-md-4 mt-4 text-wrap"> {{indexQ+1+'.
                                    '+questions[indexQ].Text}}</label>
                                <!-- lấy câu thi và câu hỏi  -->

                            </div>

                            <div class="form-check m-3" ng-repeat="an in questions[indexQ].Answers">
                                <!-- for qua đáp án  -->
                                <input ng-model="elem[indexQ].answer" class="form-check-input" name="bgroup"
                                    type="radio" id="{{'an'+$index}}" value="{{an.Id}}" required>
                                <!-- hiển thị ra đáp án -->
                                <label class="form-check-label" for="{{'an'+$index}}">{{an.Text}}</label>
                                </label>
                            </div>


                            <div class="text-md-end">
                                <button ng-disabled="elem[indexQ].sub==0 || formTest.bgroup.$invalid" type="button"
                                    class="btn btn-primary float-right mt-4"
                                    ng-click="mess();mark(); elem[indexQ].sub = 0">Trả lời</button>
                            </div>
                            <hr>
                        </form>
                        <!-- end form -->

                        <!-- pagination -->
                        <ul class="pagination text-center d-flex justify-content-center flex-wrap">
                            <li ng-click="move(0)" class="page-item {{(indexQ+1 == 1)?'disabled':''}}"><a
                                    class="page-link text-secondary">Trang đầu</a></li>
                            <li class="page-item {{(indexQ+1 == 1)?'disabled':''}}">
                                <a ng-click="move(indexQ-1)" class="page-link text-secondary" aria-label="Previous">
                                    <span aria-hidden="true">&laquo;</span>
                                    <span class="sr-only">Lui</span>
                                </a>
                            </li>

                            <li ng-hide="indexQ+1 <= 4" class="page-item"><a class="page-link text-secondary">...</a>
                            </li>
                            <li class="page-item" ng-repeat="x in questions">
                                <a ng-click="move($index)" ng-if="$index > indexQ-4 && $index < indexQ+4"
                                    class="text-secondary page-link {{($index==indexQ)?'red white-text':''}}">{{$index+1}}</a>
                            </li>
                            <li ng-hide="indexQ+1 >= questions.length-3" class="page-item"><a
                                    class="page-link text-secondary">...</a>
                            </li>

                            <li class="page-item {{(indexQ+1 == questions.length)?'disabled':''}}">
                                <button ng-click="move(indexQ+1)" class="page-link text-secondary" aria-label="Next">
                                    <span aria-hidden="true">&raquo;</span>
                                    <span class="sr-only">Tiếp</span>
                                </button>
                            </li>
                            <li ng-click="move(questions.length-1)"
                                class="page-item {{(indexQ+1 == questions.length)?'disabled':''}}"><a
                                    class="page-link text-secondary">Trang cuối</a></li>
                        </ul>

                        <!-- end pagination -->
                        <div class="text-md-start">
                            <button type="submit" ng-click="finish()" class="btn btn-danger mt-3">Kết thúc bài kiểm tra
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</section>